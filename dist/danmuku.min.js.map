{"version":3,"file":"danmuku.min.js","sources":["../src/utils.js","../src/barrage.js","../src/runtime.js","../src/special.js","../src/manager.js","../src/index.js"],"sourcesContent":["export function warning (condition, message) {\n  if (condition) return\n  throw new Error(`Warning: ${message}`)\n}\n\nexport function callHook (hooks, name, args = []) {\n  if (hooks && typeof hooks[name] === 'function') {\n    hooks[name].apply(null, args)\n  }\n}\n\nexport function createKey () {\n  return Math.random()\n    .toString(36)\n    .substr(2, 8)\n}\n\nexport function toNumber (val) {\n  return typeof val === 'number'\n    ? val\n    : typeof val === 'string'\n      ? Number(val.replace('px', ''))\n      : NaN\n}\n\nexport function lastElement (arr, lastIndex) {\n  return arr[arr.length - lastIndex]\n}\n\nexport function isRange ([a, b], val) {\n  if (val === a || val === b) return true\n  const min = Math.min(a, b)\n  const max = min === a ? b : a\n  return min < val && val < max\n}\n\nexport function upperCase ([first, ...remaing]) {\n  return first.toUpperCase() + remaing.join('')\n}\n\nconst raf = window.requestAnimationFrame\n      ? window.requestAnimationFrame.bind(window)\n      : setTimeout\n\nexport function nextFrame (fn) {\n  raf(() => {\n    raf(fn)\n  })\n}\n\nexport let transitionProp = 'transition'\nexport let transitionEndEvent = 'transitionend'\nexport let transitionDuration = 'transitionDuration'\nif (\n    window.ontransitionend === undefined &&\n    window.onwebkittransitionend !== undefined\n) {\n  transitionProp = 'WebkitTransition'\n  transitionEndEvent = 'webkitTransitionEnd'\n  transitionDuration = 'webkitTransitionDuration'\n}\n\nexport function whenTransitionEnds (node) {\n  return new Promise(resolve => {\n    let isCalled = false\n    const end = () => {\n      node.removeEventListener(transitionEndEvent, onEnd)\n      resolve()\n    }\n    const onEnd = () => {\n      if (!isCalled) {\n        isCalled = true\n        end()\n      }\n    }\n    node.addEventListener(transitionEndEvent, onEnd)\n  })\n}","import {\n  warning,\n  callHook,\n  createKey,\n  transitionDuration,\n} from './utils'\n\nexport default class Barrage {\n  constructor (itemData, time, manager, hooks) {\n    const RuntimeManager = manager.RuntimeManager\n    const { direction, container } = manager.opts\n    \n    this.node = null\n    this.hooks = hooks\n    this.paused = false\n    this.moveing = false\n    this.data = itemData\n    this.duration = time\n    this.isSpecial = false\n    this.trajectory = null\n    this.manager = manager\n    this.direction = direction\n    this.container = container\n    this.RuntimeManager = RuntimeManager\n    this.key = itemData.key || createKey()\n    this.position = {\n      y: null,\n    }\n    this.timeInfo = {\n      pauseTime: 0, // 总共暂停了多少时间\n      startTime: null, // 开始移动的时间\n      prevPauseTime: null, // 上次暂停的时间\n      currentDuration: time, // 当前实时运动时间，因为每次暂停会重置 transition duration\n    }\n\n    this.create()\n  }\n\n  getMovePrecent () {\n    const { pauseTime, startTime, prevPauseTime } = this.timeInfo\n    const currentTime = this.paused ? prevPauseTime : Date.now()\n\n    return (currentTime - startTime - pauseTime) / 1000 / this.duration\n  }\n\n  // 得到当前移动了多少距离\n  getMoveDistance (fix = true) {\n    if (!this.moveing) return 0\n    const percent = this.getMovePrecent()\n    const containerWidth = this.RuntimeManager.containerWidth + (\n      fix\n        ? this.getWidth()\n        : 0\n    )\n\n    return percent * containerWidth\n  }\n\n  getHeight () {\n    return (this.node && this.node.clientHeight) || 0\n  }\n\n  getWidth () {\n    return (this.node && this.node.clientWidth) || 0\n  }\n\n  // 得到当前弹幕的运动速度\n  getSpeed () {\n    const duration = this.timeInfo.currentDuration\n    const containerWidth = this.RuntimeManager.containerWidth + this.getWidth()\n    \n    return duration == null || containerWidth == null\n      ? 0\n      : containerWidth / duration\n  }\n\n  create () {\n    this.node = document.createElement('div')\n    callHook(this.hooks, 'barrageCreate', [this.node, this])\n  }\n\n  append () {\n    warning(this.container, 'Need container element.')\n    if (this.node) {\n      this.container.appendChild(this.node)\n      callHook(this.hooks, 'barrageAppend', [this.node, this])\n    }\n  }\n  \n  remove (noCallHook) {\n    warning(this.container, 'Need container element.')\n    if (this.node) {\n      this.container.removeChild(this.node)\n\n      if (!noCallHook) {\n        callHook(this.hooks, 'barrageRemove', [this.node, this])\n      }\n    }\n  }\n\n  // API 销毁当前节点\n  deletedInMemory () {\n    let index = -1\n    const trajectory = this.trajectory\n    const showBarrages = this.manager.showBarrages\n  \n    // 删除内存中存起来的弹幕类\n    if (trajectory && trajectory.values.length > 0) {\n      index = trajectory.values.indexOf(this)\n      if (~index) trajectory.values.splice(index, 1)\n    }\n  \n    if (showBarrages && showBarrages.length > 0) {\n      index = showBarrages.indexOf(this)\n      if (~index) showBarrages.splice(index, 1)\n    }\n  }\n  \n  // API 销毁当前节点\n  destroy () {\n    this.remove()\n    this.moveing = false\n    this.deletedInMemory()\n  \n    callHook(this.hooks, 'barrageDestroy', [this.node, this])\n    this.node = null\n  }\n\n  // API 暂停当前动画\n  pause () {\n    if (this.moveing && !this.paused) {\n      let moveDistance = this.getMoveDistance()\n  \n      if (!Number.isNaN(moveDistance)) {\n        this.paused = true\n        this.timeInfo.prevPauseTime = Date.now()\n\n        if (this.direction === 'right') {\n          moveDistance *= -1\n        }\n\n        this.node.style[transitionDuration] = '0s'\n        this.node.style.transform = `translateX(${moveDistance}px)`\n      }\n    }\n  }\n\n  // API 恢复当前\n  resume () {\n    if (this.moveing && this.paused) {\n      this.paused = false\n\n      // 增加暂停时间段\n      this.timeInfo.pauseTime += Date.now() - this.timeInfo.prevPauseTime\n      this.timeInfo.prevPauseTime = null\n      \n      const des = this.direction === 'left' ? 1 : -1\n      const containerWidth = this.RuntimeManager.containerWidth + this.getWidth()\n      const remainingTime = (1 - this.getMoveDistance() / containerWidth) * this.duration\n\n      this.timeInfo.currentDuration = remainingTime\n      this.node.style[transitionDuration] = `${remainingTime}s`\n      this.node.style.transform = `translateX(${containerWidth * des}px)`\n    }\n  }\n\n  // 恢复初始状态，以便复用\n  reset () {\n    this.paused = false\n    this.moveing = false\n    this.trajectory = null\n\n    this.position = {\n      y: null,\n    }\n\n    this.timeInfo = {\n      pauseTime: 0,\n      startTime: null,\n      prevPauseTime: null,\n      currentDuration: this.duration,\n    }\n\n    // 从视图中删除，在内存中删除\n    this.remove(true)\n    this.deletedInMemory()\n  }\n}","import {\n  isRange,\n  callHook,\n  toNumber,\n  upperCase,\n  nextFrame,\n  lastElement,\n  transitionProp,\n  whenTransitionEnds,\n} from './utils'\n\nexport default class RuntimeManager {\n  constructor (opts) {\n    const {container, rowGap, height} = opts\n    const styles = getComputedStyle(container)\n\n    if (!styles.position || styles.position === 'static') {\n      container.style.position = 'relative'\n    }\n\n    this.opts = opts\n    this.rowGap = rowGap\n    this.singleHeight = height\n    this.containerElement = container\n    this.containerWidth = toNumber(styles.width)\n    this.containerHeight = toNumber(styles.height)\n    this.init()\n  }\n\n  // 初始化\n  init () {\n    this.container = []\n    this.rows = parseInt(this.containerHeight / this.singleHeight)\n\n    // 初始化弹道\n    for (let i = 0; i < this.rows; i++) {\n      const start = this.singleHeight * i\n      const end = this.singleHeight * (i + 1) - 1\n\n      this.container.push({\n        values: [],\n        gaps: [start, end],\n      })\n    }\n  }\n\n  resize () {\n    const styles = getComputedStyle(this.containerElement)\n\n    this.containerWidth = toNumber(styles.width)\n    this.containerHeight = toNumber(styles.height)\n    this.rows = parseInt(this.containerHeight / this.singleHeight)\n\n    const container = []\n\n    for (let i = 0; i < this.rows; i++) {\n      const start = this.singleHeight * i\n      const end = this.singleHeight * (i + 1) - 1\n      const gaps = [start, end]\n\n      // 把原先的移进来\n      if (this.container[i]) {\n        this.container[i].gaps = gaps\n        container.push(this.container[i])\n      } else {\n        // 新的轨道\n        container.push({ gaps, values: [] })\n      }\n    }\n\n    this.container = container\n  }\n\n  // 随机取一个轨道\n  getRandomIndex (exclude) {\n    const randomIndex = Math.floor(Math.random() * this.rows)\n    return exclude.includes(randomIndex)\n      ? this.getRandomIndex(exclude)\n      : randomIndex\n  }\n\n  getTrajectory (alreadyFound = []) {\n    // 如果发现全部都找过了，则代表没有合适的弹道可以选择\n    if (alreadyFound.length === this.container.length) {\n      return null\n    }\n\n    const index = this.getRandomIndex(alreadyFound)\n    const currentTrajectory = this.container[index]\n    const lastBarrage = lastElement(currentTrajectory.values, 1)\n\n    if (this.rowGap <= 0 || !lastBarrage) {\n      return currentTrajectory\n    }\n\n    alreadyFound.push(index)\n\n    // 最后一个弹幕移动超过了我们限制的距离，就允许加入新的弹幕\n    if (lastBarrage.moveing) {\n      const distance = lastBarrage.getMoveDistance()\n      const spacing = this.rowGap > 0\n        ? this.rowGap + lastBarrage.getWidth()\n        : this.rowGap\n\n      return distance > spacing\n        ? currentTrajectory\n        : this.getTrajectory(alreadyFound)\n    }\n\n    return this.getTrajectory(alreadyFound)\n  }\n\n  // 计算追尾的时间，由于 css 动画的误差导致追尾的时间计算会有一定的误差，5% 以内\n  computingDuration (prevBarrage, currentBarrage) {\n    const prevWidth = prevBarrage.getWidth()\n    const currentWidth = currentBarrage.getWidth()\n    const prevSpeed = prevBarrage.getSpeed()\n    const currentSpeed = currentBarrage.getSpeed()\n    const acceleration = currentSpeed - prevSpeed\n    \n    // 如果加速度小于等于 0，永远不可能追上\n    if (acceleration <= 0) {\n      return null\n    }\n    const distance = prevBarrage.getMoveDistance(false)\n    const meetTime = distance / acceleration\n  \n    // 如果相遇时间大于于当前弹幕的运动时间，则肯会在容器视图外面追尾，不用管\n    if (meetTime >= currentBarrage.duration) {\n      return null\n    }\n  \n    // 把此次弹幕运动时间修改为上一个弹幕移除屏幕的时间，这样追尾的情况在刚刚移除视图的时候进行\n    const containerWidth = this.containerWidth + currentWidth + prevWidth\n    const remainingTime = (1 - prevBarrage.getMovePrecent()) * prevBarrage.duration\n\n    // c1 / t1 = c2 / t2 => t2 = c2 * t1 / c1\n    return containerWidth * remainingTime / this.containerWidth\n  }\n\n  // 移动弹幕，move 方法不应该暴露给外部，所有放在 runtime 里面\n  move (barrage, manager) {\n    // 设置当前弹幕在哪一个弹道\n    const node = barrage.node\n    const prevBarrage = lastElement(barrage.trajectory.values, 2)\n\n    node.style.top = `${barrage.position.y}px`\n\n    return new Promise(resolve => {\n      nextFrame(() => {\n        const width = barrage.getWidth()\n        const isNegative = barrage.direction === 'left' ? 1 : -1\n        const containerWidth = this.containerWidth + width\n\n        // 计算追尾的情况\n        // 如果 rowGap <= 0，那么就是没有做限制，不需要计算追尾的情况\n        // 如果上一个弹幕没有移动，那么肯定是不能出现的\n        // 如果上一个弹幕处于暂停状态，不需要 计算追尾\n        if (\n            prevBarrage &&\n            this.rowGap > 0 &&\n            prevBarrage.moveing &&\n            !prevBarrage.paused\n        ) {\n          const fixTime = this.computingDuration(prevBarrage, barrage)\n\n          // 如果需要修正时间\n          if (fixTime !== null) {\n            if (isRange(this.opts.times, fixTime)) {\n              barrage.duration = fixTime\n              barrage.timeInfo.currentDuration = fixTime\n            } else {\n              // 如果不在范围内，就恢复初始状态，并等待下次 render\n              barrage.reset()\n              node.style.top = null\n              manager.stashBarrages.unshift(barrage)\n              return\n            }\n          }\n        }\n\n        node.style.opacity = 1\n        node.style.pointerEvents = manager.isShow ? 'auto' : 'none'\n        node.style.visibility = manager.isShow ? 'visible' : 'hidden'\n        node.style.transform = `translateX(${isNegative * (containerWidth)}px)`\n        node.style[transitionProp] = `transform linear ${barrage.duration}s`\n        node.style[`margin${upperCase(barrage.direction)}`] = `-${width}px`\n\n        barrage.moveing = true\n        barrage.timeInfo.startTime = Date.now()\n        \n        callHook(barrage.hooks, 'barrageMove', [node, barrage])\n        resolve(whenTransitionEnds(node))\n      })\n    })\n  }\n\n  // 移动特殊弹幕\n  moveSpecialBarrage (barrage, manager) {\n    const { node, opts } = barrage\n\n    // 先定义样式，后面的计算才会准确\n    node.style.position = 'absolute'\n    node.style.display = 'inline-block'\n    node.style.pointerEvents = manager.isShow ? 'auto' : 'none'\n    node.style.visibility = manager.isShow ? 'visible' : 'hidden'\n\n    return new Promise(resolve => {\n      const { x = 0, y = 0 } = opts.position(barrage)\n      const xStyle = `translateX(${x})`\n      const yStyle = `translateY(${y})`\n\n      node.style.transform = xStyle + yStyle\n\n      // 是否移动\n      nextFrame(() => {\n        if (opts.direction === 'none') {\n          // 稍微移动一点点，以便触发动画回调\n          node.style.transform = xStyle + yStyle + `translateX(${Number.MIN_VALUE}px)`\n        } else {\n          const isNegative = opts.direction === 'left' ? 1 : -1\n          node.style.transform = `translateX(${isNegative * (this.containerWidth)}px) ${yStyle}`\n        }\n\n        barrage.moveing = true\n        node.style[transitionProp] = `transform linear ${opts.duration}s`\n\n        callHook(barrage.hooks, 'move', [node, barrage])\n        callHook(manager.opts.hooks, 'barrageMove', [node, barrage])\n        resolve(whenTransitionEnds(node))\n      })\n    })\n  }\n}","import { warning, callHook, createKey } from './utils'\n\nexport class SpecialBarrage {\n  constructor (opts) {\n    this.opts = opts\n    this.node = null\n    this.moveing = false\n    this.isSpecial = true\n    this.renderTimer = null\n    this.hooks = opts.hooks\n    this.data = opts.data || null\n    this.key = opts.key || createKey()\n\n    this.timeInfo = {\n      pauseTime: 0, // 总共暂停了多少时间\n      startTime: null, // 开始移动的时间\n      prevPauseTime: null, // 上次暂停的时间\n      currentDuration: opts.duration, // 当前实时运动时间，因为每次暂停会重置 transition duration\n    }\n  }\n\n  getHeight () {\n    return (this.node && this.node.clientHeight) || 0\n  }\n\n  getWidth () {\n    return (this.node && this.node.clientWidth) || 0\n  }\n\n  create (manager) {\n    this.node = document.createElement('div')\n    callHook(this.hooks, 'create', [this.node, this])\n    callHook(manager.opts.hooks, 'barrageCreate', [this.node, this])\n  }\n\n  getMovePrecent () {\n    const { pauseTime, startTime, prevPauseTime } = this.timeInfo\n    const currentTime = this.paused ? prevPauseTime : Date.now()\n\n    return (currentTime - startTime - pauseTime) / 1000 / this.duration\n  }\n\n  append (manager) {\n    warning(manager.container, 'Need container element.')\n    if (this.node) {\n      manager.container.appendChild(this.node)\n      callHook(this.hooks, 'append', [this.node, this])\n      callHook(manager.opts.hooks, 'barrageAppend', [this.node, this])\n    }\n  }\n  \n  remove (manager) {\n    warning(manager.container, 'Need container element.')\n    if (this.node) {\n      manager.container.removeChild(this.node)\n      callHook(this.hooks, 'remove', [this.node, this])\n      callHook(manager.opts.hooks, 'barrageRemove', [this.node, this])\n    }\n  }\n\n  destroy (manager) {\n    this.remove(manager)\n    this.moveing = false\n\n    const index = manager.specialBarrages.indexOf(this)\n    if (~index) {\n      manager.specialBarrages.splice(index, 1)\n    }\n\n    callHook(this.hooks, 'destroy', [this.node, this])\n    callHook(manager.opts.hooks, 'barrageDestroy', [this.node, this])\n    this.node = null\n  }\n}\n\nexport default function createSpecialBarrage (opts = {}) {\n  opts = Object.assign({\n    hooks: {},\n    duration: 0, // 默认不显示\n    direction: 'none', // left or right or none\n    position: () => ({ x: 0, y: 0 }), // 默认起始位置,\n  }, opts)\n\n  return new SpecialBarrage(opts)\n}","import Barrage from './barrage'\nimport { callHook } from './utils'\nimport RuntimeManager from './runtime'\nimport createSpecialBarrage from './special'\n\nexport default class BarrageManager {\n  constructor (opts) {\n    this.opts = opts\n    this.loopTimer = null\n    this.showBarrages = [] // 渲染在页面上的弹幕数量\n    this.stashBarrages = []// 暂存的弹幕数量\n    this.specialBarrages = [] // 特殊弹幕，特殊弹幕立即发立即渲染，移动完毕结束\n    this.isShow = opts.isShow\n    this.container = opts.container\n    this.RuntimeManager = new RuntimeManager(opts)\n  }\n\n  get stashLength () {\n    return this.stashBarrages.length\n  }\n\n  get specialLength () {\n    return this.specialBarrages.length\n  }\n\n  get showLength () {\n    return this.showBarrages.length + this.specialBarrages.length\n  }\n\n  get length () {\n    return this.showBarrages.length + this.specialBarrages.length + this.stashBarrages.length\n  }\n\n  get containerWidth () {\n    return this.RuntimeManager.containerWidth\n  }\n\n  get containerHeight () {\n    return this.RuntimeManager.containerHeight\n  }\n\n  get runing () {\n    return this.loopTimer !== null\n  }\n\n  // API 发送普通弹幕\n  send (data) {\n    if (!Array.isArray(data)) data = [data]\n    if (this.assertCapacity(data.length)) return false\n\n    this.stashBarrages.push.apply(this.stashBarrages, data)\n    callHook(this.opts.hooks, 'send', [this, data])\n    return true\n  }\n\n  // API 发送特殊弹幕\n  sendSpecial (data) {\n    if (!this.runing) return false\n    if (!Array.isArray(data)) data = [data]\n    if (this.assertCapacity(data.length)) return false\n\n    for (let i = 0; i < data.length; i++) {\n      const barrage =  createSpecialBarrage(data[i])\n      // 如果当前这个特殊弹幕时间小于等于 0，就不需要渲染\n      if (barrage.opts.duration <= 0) continue\n\n      barrage.create(this)\n      barrage.append(this)\n      this.specialBarrages.push(barrage)\n\n      // 结束后销毁\n      this.RuntimeManager.moveSpecialBarrage(barrage, this).then(() => {\n        barrage.destroy(this)\n        if (this.length === 0) {\n          callHook(this.opts.hooks, 'ended', [this])\n        }\n      })\n    }\n\n    callHook(this.opts.hooks, 'sendSpecial', [this, data])\n    return true\n  }\n\n  // API 显示所有弹幕\n  show () {\n    if (!this.isShow) {\n      this.isShow = true\n      this.each(barrage => {\n        if (barrage.node) {\n          barrage.node.style.visibility = 'visible'\n          barrage.node.style.pointerEvents = 'auto'\n        }\n      })\n      callHook(this.opts.hooks, 'show', [this])\n    }\n    return this\n  }\n\n  // API 隐藏所有弹幕\n  hidden () {\n    if (this.isShow) {\n      this.isShow = false\n      this.each(barrage => {\n        if (barrage.node) {\n          barrage.node.style.visibility = 'hidden'\n          barrage.node.style.pointerEvents = 'none'\n        }\n      })\n      callHook(this.opts.hooks, 'hidden', [this])\n    }\n    return this    \n  }\n\n  // API 遍历在渲染中的节点\n  each (cb) {\n    if (typeof cb === 'function') {\n      let i = 0\n      for (; i < this.specialBarrages.length; i++) {\n        cb(this.specialBarrages[i], i)\n      }\n\n      for (i = 0; i < this.showBarrages.length; i++) {\n        const barrage = this.showBarrages[i]\n        if (barrage.moveing) {\n          cb(barrage, i)\n        }\n      }\n    }\n    return this\n  }\n\n  // API 停止轮询添加弹幕\n  stop (noCallHook) {\n    if (this.loopTimer) {\n      clearTimeout(this.loopTimer)\n      this.loopTimer = null\n\n      if (!noCallHook) {\n        callHook(this.opts.hooks, 'stop', [this])\n      }\n    }\n    return this\n  }\n\n  // API 循环检测添加弹幕\n  start (noCallHook) {\n    const core = () => {\n      this.loopTimer = setTimeout(() => {\n        this.renderBarrage()\n        core()\n      }, this.opts.interval)\n    }\n\n    this.stop(true)\n    core()\n\n    if (!noCallHook) {\n      callHook(this.opts.hooks, 'start', [this])\n    }\n  \n    return this\n  }\n\n  // API 重新设置参数\n  setOptions (opts) {\n    if (opts) {\n      // 清除定时器，重新根据新的时间开始\n      if ('interval' in opts) {\n        this.stop(true)\n        this.start(true)\n      }\n      // 如果有高度，要重新计算轨道\n      if ('height' in opts) {\n        this.RuntimeManager.singleHeight = opts.height\n        this.RuntimeManager.resize()\n      }\n      // 设置 rowGap\n      if ('rowGap' in opts) {\n        this.RuntimeManager.rowGap = opts.rowGap\n      }\n\n      this.opts = Object.assign(this.opts, opts)\n      callHook(this.opts.hooks, 'setOptions', [this, opts])\n    }\n    return this\n  }\n\n  // API 重新计算轨道\n  resize () {\n    this.RuntimeManager.resize()\n    callHook(this.opts.hooks, 'resize', [this])\n    return this\n  }\n\n  // API 清空缓存，立即终止\n  clear () {\n    this.stop()\n\n    this.each(barrage => {\n      barrage.isSpecial\n        ? barrage.remove(this)\n        : barrage.remove()\n    })\n\n    this.showBarrages = []\n    this.stashBarrages = []\n    this.specialBarrages = []\n    this.RuntimeManager.container = []\n    this.RuntimeManager.resize()\n\n    callHook(this.opts.hooks, 'clear', [this])\n  }\n\n  // 判断是否超过容量\n  assertCapacity (n) {\n    const res = n + this.length > this.opts.capacity\n    if (res) {\n      console.warn(`The number of barrage is greater than \"${this.opts.capacity}\".`)\n    }\n    return res\n  }\n\n  // 初始化弹幕\n  renderBarrage () {\n    if (this.stashBarrages.length > 0) {\n      const { rows, rowGap } = this.RuntimeManager\n      let length = this.opts.limit - this.showLength\n\n      // 一次弹出的弹幕最多只能把所有的轨道塞满\n      // 如果大于轨道树就需要优化，避免不必要的计（实测，内存占用好像区别不大...）\n      // 但是如果我们发现 rowGap <= 0，就是没有限制，那么弹幕会实时出现\n      // 所有的轨道都会不停出现弹幕，就要去掉这个优化\n      // 但此时如果不小心就会导致内存飙升，这个种场景适合弹幕立即发送，立即出现的场景\n      if (rowGap > 0 && length > rows) {\n        length = this.RuntimeManager.rows\n      }\n\n      if (length > this.stashBarrages.length) {\n        length = this.stashBarrages.length\n      }\n\n      if (length > 0 && this.runing) {\n        for (let i = 0; i < length; i++) {\n          const data = this.stashBarrages.shift()\n          if (data) {\n            this.initSingleBarrage(data)\n          }\n        }\n\n        callHook(this.opts.hooks, 'render', [this])\n      }\n    }\n  }\n\n  // 初始化一个弹幕\n  initSingleBarrage (data) {\n    const barrage = data instanceof Barrage ? data : this.createSingleBarrage(data)\n    const newBarrage = barrage && this.sureBarrageInfo(barrage)\n\n    if (newBarrage) {\n      // 当前这个弹幕需要渲染到屏幕上\n      newBarrage.append()\n      this.showBarrages.push(newBarrage)\n      newBarrage.trajectory.values.push(newBarrage)\n\n      // 弹幕运动结束后删掉\n      this.RuntimeManager.move(newBarrage, this).then(() => {\n        newBarrage.destroy()\n        if (this.length === 0) {\n          callHook(this.opts.hooks, 'ended', [this])\n        }\n      })\n    } else {\n      // 否则就先存起来，按道理说只会存一个\n      // 按照现有的逻辑，最后一个会不停的取出来，然后存起来\n      this.stashBarrages.unshift(barrage)\n    }\n  }\n\n  createSingleBarrage (data) {\n    const [max, min] = this.opts.times\n    const time = Number(\n      max === min\n        ? max\n        : (Math.random() * (max - min) + min).toFixed(0)\n    )\n\n    // 时间小于等于 0，将不会渲染\n    if (time <= 0) return null\n    \n    return new Barrage(\n      data,\n      time,\n      this,\n      Object.assign({}, this.opts.hooks, {\n        barrageCreate: this.setBarrageStyle.bind(this),\n      })\n    )\n  }\n\n  // 初始化弹幕的位置信息\n  sureBarrageInfo (barrage) {\n    const trajectory = this.RuntimeManager.getTrajectory()\n\n    // 没有弹道信息代表现在页面上不能出现\n    if (!trajectory) return null\n\n    barrage.trajectory = trajectory\n    barrage.position.y = trajectory.gaps[0]\n\n    return barrage\n  }\n\n  // 设置弹幕的样式\n  setBarrageStyle (node, barrage) {\n    const { hooks = {}, direction } = this.opts\n\n    callHook(hooks, 'barrageCreate', [node, barrage])\n\n    node.style.opacity = 0\n    node.style[direction] = 0\n    node.style.position = 'absolute'\n    node.style.display = 'inline-block'\n    node.style.pointerEvents = this.isShow ? 'auto' : 'none'\n    node.style.visibility = this.isShow ? 'visible' : 'hidden'\n  }\n}","import BarrageManager from './manager'\n\nfunction createBarrageManager (opts = {}) {\n  opts = Object.assign({\n    hooks: {}, // 钩子函数\n    limit: 50, // 页面上允许渲染的数量\n    height: 50, // 弹道的高\n    rowGap: 50, // 同一条轨道上两条弹幕的间隔\n    isShow: true, // 默认 show\n    capacity: 1024, // 内存中能存放的弹幕数量\n    times: [8, 15], // 弹幕移动时间取值范围\n    interval: 2000, // 轮询间隔时间\n    direction: 'right', // 弹幕左边出来还是右边\n  }, opts)\n\n  return new BarrageManager(opts)\n}\n\nexport default {\n  create: createBarrageManager,\n}"],"names":[],"mappings":"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"}